<div class="container-fluid mt-2">
    <div class="card">
      <div class="card-body p-3">
        
        <form [formGroup]="salesOrderForm" (ngSubmit)="onsubmitSale()">
          <h5>General</h5>
          <div class="general-info">
            <div class="left-side">
              <label>Cliente No.</label>
              <ng-select
                [items]="customers"
                bindLabel="fullName"
                bindValue="codigoCliente"
                formControlName="codigoCliente"
                id="codigoCliente"
                placeholder="Select a customer"
                [searchable]="true"
                (change)="onCustomerSelect($event)">
              </ng-select>
              
              <label>Nombre de cliente.</label>
              <input id="nombresCliente" type="text" formControlName="nombresCliente" required />
              
              <label>NIT</label>
              <input id="nit" type="text" formControlName="nit" required />
              
              <label>Dirección de cliente.</label>
              <input id="direccionCliente" type="text" formControlName="direccionCliente" required />
              
              <label>Número de contacto.</label>
              <input id="telefonoCliente" type="text" formControlName="telefonoCliente" required />
              
              <label>Correo electrónico.</label>
              <input id="correoCliente" type="email" formControlName="correoCliente" required />
            </div>
        
            <div class="right-side">
              <label>Categoría de cliente.</label>
              <input id="categoriaCliente" type="text" formControlName="categoriaCliente" required />
              
              <label>Departamento.</label>
              <input id="departamento" type="text" formControlName="departamento" required />
              
              <label>Municipio.</label>
              <input id="municipio" type="text" formControlName="municipio" required />
              
              <label>Términos de venta.</label>
              <input id="TipoVenta" type="text" formControlName="TipoVenta" required />
              
              <label>Fecha de registro.</label>
              <input id="FechaVenta" type="date" formControlName="FechaVenta" required />
              
              <label>Status</label>
              <select id="status" formControlName="status" required>
                <option value="open">Open</option>
                <option value="closed">Closed</option>
              </select>
            </div>
          </div>
        
          <h5>Líneas de venta</h5>
          <table>
            <thead>
              <tr>
                <th>No.</th>
                <th>Description</th>
                <th>Location Code</th>
                <th>Quantity</th>
                <th>Unit of Measure</th>
              </tr>
            </thead>
            <tbody formArrayName="lines">
              <tr *ngFor="let line of lines.controls; let i = index" [formGroupName]="i">
                <td><input type="text" formControlName="no" required /></td>
                <td><input type="text" formControlName="description" required /></td>
                <td><input type="text" formControlName="locationCode" required /></td>
                <td><input type="number" formControlName="quantity" required min="1" /></td>
                <td><input type="text" formControlName="unitOfMeasure" required /></td>
              </tr>
            </tbody>
          </table>
          <button (click)="addLine()">Agregar línea</button>
        
          <div class="totals">
            Total Venta.
            <input id="TotalVenta" type="number" formControlName="TotalVenta" required min="0" />
            
            <label>Total Excl. VAT (GBP)</label>
            <input id="totalExclVAT" type="number" formControlName="totalExclVAT" required min="0" />
            
            <label>Total VAT (GBP)</label>
            <input id="totalVAT" type="number" formControlName="totalVAT" required min="0" />
            
            <label>Total Incl. VAT (GBP)</label>
            <input id="totalInclVAT" type="number" formControlName="totalInclVAT" required min="0" />
          </div>
        
          <!-- Botón de envío -->
          <button type="submit">Enviar</button>
        </form>
  
      </div>
    </div>
  </div>

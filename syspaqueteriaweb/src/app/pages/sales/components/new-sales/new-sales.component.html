<div class="container-fluid mt-2">
    <div class="card">
      <div class="card-body p-3">
        
        <form [formGroup]="salesOrderForm" (ngSubmit)="onsubmitSale()">
          <h5>General</h5>
          <div class="general-info">
            <div class="left-side">
              Cliente No.
              <ng-select
                [items]="customers"
                bindLabel="fullName"
                bindValue="clienteID"
                formControlName="clienteID"
                id="clienteID"
                placeholder="Select a customer"
                [searchable]="true"
                (change)="onCustomerSelect($event)">
              </ng-select>
              
              Nombre de cliente.
              <input id="nombresCliente" type="text" formControlName="nombresCliente" required />
              
             NIT
              <input id="nit" type="text" formControlName="nit" required />
              
             Dirección de cliente.
              <input id="direccionCliente" type="text" formControlName="direccionCliente" required />
              
             Número de contacto.
              <input id="telefonoCliente" type="text" formControlName="telefonoCliente" required />
              
             Correo electrónico.
              <input id="correoCliente" type="email" formControlName="correoCliente" required />
            </div>
        
            <div class="right-side">
            Categoría de cliente.
              <input id="categoriaCliente" type="text" formControlName="categoriaCliente" required />
              
              Departamento.
              <input id="departamento" type="text" formControlName="departamento" required />
              
            Municipio.
              <input id="municipio" type="text" formControlName="municipio" required />
              
              Términos de venta.
              <input id="TipoVenta" type="text" formControlName="TipoVenta" required />
              
              Fecha de registro.
              <input id="FechaVenta" type="date" formControlName="FechaVenta" required />
              
              Status.
              <select id="status" formControlName="status" required>
                <option value="open">Open</option>
                <option value="closed">Closed</option>
              </select>
            </div>
          </div>
        
          <h5>Líneas de venta</h5>
          <table>
            <thead>
              <tr>
                <th>Producto No.</th>
                <th>Descripcion</th>
                <th>Precio</th>
                <th>Cantidad</th>
       
              </tr>
            </thead>
            <tbody formArrayName="lines">
              <tr *ngFor="let line of lines.controls; let i = index" [formGroupName]="i">
                <td>
                  <ng-select
                [items]="products"
                bindLabel="fullDescription"
                bindValue="productoID"
                formControlName="productoID"
                id="productoID"
                placeholder="Selecciona un producto."
                [searchable]="true"
                (change)="onProductSelect($event, i)">
              </ng-select>
                </td>
                <td><input type="text" formControlName="descripcion" required /></td>
                <td><input type="text" formControlName="precio" required /></td>
                <td><input type="number" formControlName="quantity" (input)="updateLineAmount(i)" required min="1" /></td>
                
              </tr>
            </tbody>
          </table>
          <button type="button" (click)="addLine()">Agregar línea</button>
          <div class="general-info">
            <div class="right-side">
             
            </div>
            <div class="left-side">
              Total Venta.
              <input id="TotalVenta" type="number" formControlName="TotalVenta" placeholder="Q." required min="0" />
              
            
            </div>

          </div>

        
        
          <!-- Botón de envío -->
          <button type="submit">Enviar</button>
        </form>
  
      </div>
    </div>
  </div>
